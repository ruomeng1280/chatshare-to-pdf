# Chatshare Download Extension
正常运行功能按键，安装后见界面右下，如图所示：<img src="https://github.com/user-attachments/assets/7d5fde24-c647-44cc-a69b-c7e08c523dba" width="200">

## 简介
Chatshare Download是一个Chrome扩展，允许用户以PNG或PDF格式下载ChatGPT对话。

## 功能
- 生成PNG图像：将整个对话截图保存为PNG图像
- 下载PDF文件：将对话转换为PDF文档

## 安装方法（Chrome/Edge）
1. 从发布页面的最新版本中下载 `chatshare to pdf.zip` 文件。  
2. 解压下载的文件以提取扩展程序文件。  
3. 在 Chrome 或 Edge 中打开扩展程序页面：
   - Chrome 地址：`chrome://extensions`  
   - Edge 地址：`edge://extensions`  
4. 点击页面右上角的开关，启用“开发者模式”。  
5. 点击“加载已解压的扩展程序”按钮，选择你刚才解压扩展文件的文件夹。  
6. **ChatGPT Export** 扩展程序现在应该已经安装，并在 Chatshare 网站上激活。

## 使用方法
1. 安装扩展后，访问Chatshare网站
2. 在对话界面，扩展会在页面右下角自动添加功能按钮
3. 如果未看到按钮，请按照以下步骤操作：
   - 查看左下角闪烁的调试面板
   - 点击"创建功能按钮区域"按钮
   - 按钮将显示在页面右下角
   - 如果仍然没有显示，尝试刷新页面或点击"显示完整诊断面板"按钮进行更详细的诊断

### 按钮功能说明
- **Generate PNG**：将当前对话生成为PNG图像
- **Download PDF**：将当前对话下载为PDF文档
- **关闭功能**：关闭扩展功能，移除所有按钮和面板，恢复页面原样

## 最近更新 (v1.3.9)
- **增加关闭功能**：添加"关闭功能"按钮，可一键清除所有扩展元素，恢复页面原样
- **智能内存管理**：进一步优化内存管理策略，动态调整分辨率避免浏览器崩溃
- **完善操作反馈**：添加操作确认提示，提高用户体验
- **扩展框架优化**：在自定义操作区域添加关闭选项，便于快速退出
- **稳定性提升**：改进资源清理机制，确保完全恢复页面状态

## 最近更新 (v1.3.8)
- **PDF清晰度提升**：完全重写了PDF渲染引擎，显著提高输出质量
- **高DPI支持**：增加了分辨率，使文本和图像更清晰锐利
- **图像优化**：改进了图像处理和渲染设置，减少模糊和失真
- **文本质量增强**：优化了字体渲染方式，提高可读性
- **性能平衡**：在高质量输出和性能之间找到最佳平衡点

## 最近更新 (v1.3.7)
- **长对话改进**：完全重写了PDF导出功能，支持导出超大型对话
- **颜色兼容性**：修复了新版ChatGPT界面颜色格式与截图功能不兼容的问题
- **性能优化**：减少内存使用，增加处理超时时间，避免大型对话导出失败
- **智能分页**：自动将超长对话分割成多个PDF页面，增强可读性
- **错误处理**：改进错误信息提示，更友好地引导用户处理长对话
- **界面改进**：按钮区位于右下角，不干扰主界面

## 最近更新 (v1.3.6)
- **重大改进**：完全重新设计按钮显示机制，使用右下角固定位置显示
- **增强可见性**：添加醒目的按钮样式和简洁框架
- **界面简化**：移除了分享链接功能，专注于图像和PDF导出
- **诊断功能**：增强调试面板，提供更直观的问题诊断和修复选项
- **修复体验**：自动检测按钮状态并提示用户刷新页面
- 修复了"Cannot read properties of undefined"系列错误
- 改进了DOM适配器，使元素查找更可靠
- 添加了错误隔离机制，提高扩展稳定性
- 实现了持久化调试面板，帮助用户排查问题
- 增加了手动创建按钮的功能

## 故障排除
如果您遇到以下问题，请尝试这些解决方法：

### 按钮未显示
1. 查看页面底部固定位置的功能按钮区域
2. 点击右下角的红色或橙色调试面板
3. 使用"创建功能按钮区域"按钮添加功能按钮
4. 如果点击按钮后没有反应，请刷新页面后重试
5. 按下F12打开浏览器开发者工具，查看控制台是否有错误信息

### 生成图片或PDF失败
1. 确保页面完全加载
2. 检查是否有足够的内容可供截图
3. 对于特别长的对话：
   - 尝试使用PNG格式而不是PDF
   - 使用浏览器的滚动功能查看部分对话内容后再导出
   - 考虑分段导出对话内容
4. 如遇到特定错误，请查看控制台日志获取详细信息

### 扩展功能干扰页面
1. 如果扩展功能影响您正常使用ChatGPT，可以点击"关闭功能"按钮
2. 关闭后所有扩展添加的元素将被移除，页面恢复原始状态
3. 如果需要再次使用扩展功能，刷新页面即可

## 技术细节
扩展使用了以下技术：
- HTML2Canvas: 用于将页面转换为图像
- jsPDF: 用于生成PDF文档
- DOM适配器: 处理不同网站之间的DOM结构差异
- 自动化错误处理: 提高扩展在不同环境中的稳定性
- 智能内存管理: 动态调整分辨率以适应各种设备和对话长度

## 隐私说明
- 本扩展只在用户明确操作时才会处理页面内容
- 不会自动收集或上传用户的对话内容
- 分享功能需要将内容上传至服务器，但仅在用户点击分享按钮时进行

## 联系与支持
如遇到问题或有改进建议，请联系我们,vx:ruomeng1280。

## 许可
本扩展基于MIT许可证。 
